{"ast":null,"code":"import { actionType } from \"../Helper\";\nconst initialState = {\n  colorID: '',\n  one_product: [],\n  pageProducts: [],\n  filters: {},\n  addedProducts: [],\n  params: {},\n  // if pagination is enabled, we need to change the params to separately control page\n  sortId: '1'\n};\nexport const productReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case actionType.FETCH_ONE_PRODUCT:\n      // console.log('[reducer] fetch one products', action.payload)\n      return {\n        ...state,\n        one_product: action.payload\n      };\n    // case actionType.FETCH_ALL_PRODUCTS:\n    //     // console.log('[reducer] fetch all products', action.payload)\n    //     return {...state, allProducts: action.payload};\n    case actionType.FETCH_PRODUCTS_PAGE_SORTING:\n      // console.log('[reducer] fetch all products', action.payload)\n      return {\n        ...state,\n        pageProducts: action.payload\n      };\n    case actionType.GET_FILTERS:\n      // console.log('[reducers] get all filters', action.payload);\n      return {\n        ...state,\n        filters: action.payload\n      };\n    case actionType.UPDATE_FILTERS:\n      // The code is handling an action where a filter checkbox has been clicked.\n      // It copies the current filters from state to a temporary variable,\n      // and then iterates over each filter item to check whether the checkbox has been checked or unchecked.\n      // If the checkbox is checked, then the corresponding filter item in the temporary variable is updated\n      // to reflect the change.\n      const temp = {\n        ...state.filters\n      }; // prevent to change the state directly\n      for (const key of Object.keys(temp)) {\n        temp[key].forEach(e => {\n          if (e.name === action.payload) {\n            e.isChecked = !e.isChecked;\n          }\n        });\n      }\n      return {\n        ...state,\n        filters: temp\n      };\n    case actionType.FETCH_ALL_PRODUCTS_WITH_FILTER:\n      {\n        return {\n          ...state,\n          pageProducts: action.payload\n        };\n      }\n    case actionType.URL_PARAMS_SAVER:\n      return {\n        ...state,\n        params: action.payload\n      };\n    case actionType.SORT_ID:\n      console.log('[reducers] get sortId', action.payload);\n      return {\n        ...state,\n        sortId: action.payload\n      };\n    default:\n      return {\n        ...state\n      };\n  }\n};","map":{"version":3,"names":["actionType","initialState","colorID","one_product","pageProducts","filters","addedProducts","params","sortId","productReducer","state","action","type","FETCH_ONE_PRODUCT","payload","FETCH_PRODUCTS_PAGE_SORTING","GET_FILTERS","UPDATE_FILTERS","temp","key","Object","keys","forEach","e","name","isChecked","FETCH_ALL_PRODUCTS_WITH_FILTER","URL_PARAMS_SAVER","SORT_ID","console","log"],"sources":["/Users/phe/WebstormProjects/lululemon-latest-version/lulu-front/lululemon/src/reducers/productReducer.js"],"sourcesContent":["import {actionType} from \"../Helper\";\n\nconst initialState = {\n    colorID: '',\n    one_product: [],\n    pageProducts: [],\n    filters: {},\n    addedProducts:[],\n    params: {},   // if pagination is enabled, we need to change the params to separately control page\n    sortId: '1'\n}\n\nexport const productReducer = (state=initialState, action) => {\n    switch (action.type) {\n        case actionType.FETCH_ONE_PRODUCT:\n            // console.log('[reducer] fetch one products', action.payload)\n            return {...state, one_product: action.payload};\n        // case actionType.FETCH_ALL_PRODUCTS:\n        //     // console.log('[reducer] fetch all products', action.payload)\n        //     return {...state, allProducts: action.payload};\n        case actionType.FETCH_PRODUCTS_PAGE_SORTING:\n            // console.log('[reducer] fetch all products', action.payload)\n            return {...state, pageProducts: action.payload};\n        case actionType.GET_FILTERS:\n            // console.log('[reducers] get all filters', action.payload);\n            return {...state, filters: action.payload};\n        case actionType.UPDATE_FILTERS:\n            // The code is handling an action where a filter checkbox has been clicked.\n            // It copies the current filters from state to a temporary variable,\n            // and then iterates over each filter item to check whether the checkbox has been checked or unchecked.\n            // If the checkbox is checked, then the corresponding filter item in the temporary variable is updated\n            // to reflect the change.\n            const temp = {...state.filters}  // prevent to change the state directly\n            for (const key of Object.keys(temp)) {\n                temp[key].forEach(e => {\n                    if (e.name === action.payload) {\n                        e.isChecked = !e.isChecked\n                    }\n                })\n            }\n            return {...state,filters: temp}\n        case actionType.FETCH_ALL_PRODUCTS_WITH_FILTER:{\n            return {...state, pageProducts: action.payload};\n        }\n        case actionType.URL_PARAMS_SAVER:\n            return {...state, params: action.payload}\n        case actionType.SORT_ID:\n            console.log('[reducers] get sortId', action.payload);\n            return {...state, sortId: action.payload};\n        default:\n            return {...state}\n    }\n}"],"mappings":"AAAA,SAAQA,UAAU,QAAO,WAAW;AAEpC,MAAMC,YAAY,GAAG;EACjBC,OAAO,EAAE,EAAE;EACXC,WAAW,EAAE,EAAE;EACfC,YAAY,EAAE,EAAE;EAChBC,OAAO,EAAE,CAAC,CAAC;EACXC,aAAa,EAAC,EAAE;EAChBC,MAAM,EAAE,CAAC,CAAC;EAAI;EACdC,MAAM,EAAE;AACZ,CAAC;AAED,OAAO,MAAMC,cAAc,GAAG,YAAgC;EAAA,IAA/BC,KAAK,uEAACT,YAAY;EAAA,IAAEU,MAAM;EACrD,QAAQA,MAAM,CAACC,IAAI;IACf,KAAKZ,UAAU,CAACa,iBAAiB;MAC7B;MACA,OAAO;QAAC,GAAGH,KAAK;QAAEP,WAAW,EAAEQ,MAAM,CAACG;MAAO,CAAC;IAClD;IACA;IACA;IACA,KAAKd,UAAU,CAACe,2BAA2B;MACvC;MACA,OAAO;QAAC,GAAGL,KAAK;QAAEN,YAAY,EAAEO,MAAM,CAACG;MAAO,CAAC;IACnD,KAAKd,UAAU,CAACgB,WAAW;MACvB;MACA,OAAO;QAAC,GAAGN,KAAK;QAAEL,OAAO,EAAEM,MAAM,CAACG;MAAO,CAAC;IAC9C,KAAKd,UAAU,CAACiB,cAAc;MAC1B;MACA;MACA;MACA;MACA;MACA,MAAMC,IAAI,GAAG;QAAC,GAAGR,KAAK,CAACL;MAAO,CAAC,EAAE;MACjC,KAAK,MAAMc,GAAG,IAAIC,MAAM,CAACC,IAAI,CAACH,IAAI,CAAC,EAAE;QACjCA,IAAI,CAACC,GAAG,CAAC,CAACG,OAAO,CAACC,CAAC,IAAI;UACnB,IAAIA,CAAC,CAACC,IAAI,KAAKb,MAAM,CAACG,OAAO,EAAE;YAC3BS,CAAC,CAACE,SAAS,GAAG,CAACF,CAAC,CAACE,SAAS;UAC9B;QACJ,CAAC,CAAC;MACN;MACA,OAAO;QAAC,GAAGf,KAAK;QAACL,OAAO,EAAEa;MAAI,CAAC;IACnC,KAAKlB,UAAU,CAAC0B,8BAA8B;MAAC;QAC3C,OAAO;UAAC,GAAGhB,KAAK;UAAEN,YAAY,EAAEO,MAAM,CAACG;QAAO,CAAC;MACnD;IACA,KAAKd,UAAU,CAAC2B,gBAAgB;MAC5B,OAAO;QAAC,GAAGjB,KAAK;QAAEH,MAAM,EAAEI,MAAM,CAACG;MAAO,CAAC;IAC7C,KAAKd,UAAU,CAAC4B,OAAO;MACnBC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEnB,MAAM,CAACG,OAAO,CAAC;MACpD,OAAO;QAAC,GAAGJ,KAAK;QAAEF,MAAM,EAAEG,MAAM,CAACG;MAAO,CAAC;IAC7C;MACI,OAAO;QAAC,GAAGJ;MAAK,CAAC;EAAA;AAE7B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}