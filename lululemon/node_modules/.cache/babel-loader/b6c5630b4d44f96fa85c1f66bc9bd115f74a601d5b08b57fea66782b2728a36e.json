{"ast":null,"code":"var _jsxFileName = \"/Users/phe/WebstormProjects/lululemon-latest-version/lulu-front/lululemon/src/components/mainPageComponents/SideBar/SideBarItem.js\",\n  _s = $RefreshSig$();\nimport \"./SideBarItem.scss\";\nimport { TitleCheckedIcon, ItemCheckedIcon, CheckedBoxIcon } from \"./SideBarIcon\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport actions from \"../../../actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SideBarItem = _ref => {\n  _s();\n  let {\n    item\n  } = _ref;\n  const dispatch = useDispatch();\n  const [itemChecked, updateItemChecked] = useState(false);\n  const [titleChecked, updateTitleChecked] = useState(true);\n  // Problem: simple true State will lead to change to all filters in one sideBarItem\n  // create a list of false which corresponds to the specific filter\n  const name = item[0];\n  const filterList = item[1];\n  const allFilters = useSelector(state => {\n    var _state$productReducer;\n    return state === null || state === void 0 ? void 0 : (_state$productReducer = state.productReducer) === null || _state$productReducer === void 0 ? void 0 : _state$productReducer.filters;\n  });\n  const onClickItemChecked = () => {\n    updateItemChecked(prevState => !prevState);\n  };\n  const onClickTitleChecked = () => {\n    updateTitleChecked(prevState => !prevState);\n  };\n  // Grab url params and use them to dispatch actions\n  const urlParams = useSelector(state => {\n    var _state$productReducer2;\n    return state === null || state === void 0 ? void 0 : (_state$productReducer2 = state.productReducer) === null || _state$productReducer2 === void 0 ? void 0 : _state$productReducer2.params;\n  });\n  const page = urlParams.pageNum;\n  const sortingId = urlParams.sortingId;\n\n  // name is an entry here\n  const onClickFilterChecked = (name, page, sortingId) => {\n    actions.filterActions.updateFilter(dispatch)(name).then(rs => {\n      rs && actions.productActions.fetchAllProductsWithFilter(dispatch, page, sortingId)(allFilters);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sideBarItem\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"itemExpand\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"itemHead\",\n        onClick: onClickTitleChecked,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"filterTitle\",\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TitleCheckedIcon, {\n          checked: titleChecked\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this), name === \"Colour\" ? titleChecked && /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"colorList\",\n        children: [filterList.map((swatchObject, index) => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"swatch-filter\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: swatchObject.swatch,\n              alt: swatchObject.alt\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"swatchAlt\",\n              children: swatchObject.alt\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 24\n          }, this);\n        }), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this) :\n      /*#__PURE__*/\n      // for other filters\n      _jsxDEV(\"div\", {\n        className: `itemBody ${titleChecked ? \"showTitle\" : \"\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"itemList\",\n          children: filterList.map((_ref2, index) => {\n            let {\n              name\n            } = _ref2;\n            return index <= 4 && /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => {\n                onClickFilterChecked(name, page, sortingId);\n              },\n              children: [/*#__PURE__*/_jsxDEV(CheckedBoxIcon, {\n                checked: name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"filterName\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 25\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 34\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: `itemList_expanded ${itemChecked ? \"show\" : \"\"}`,\n          children: filterList.map((_ref3, index) => {\n            let {\n              name,\n              isChecked\n            } = _ref3;\n            return index > 4 && /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => onClickFilterChecked(name, page, sortingId),\n              children: [/*#__PURE__*/_jsxDEV(CheckedBoxIcon, {\n                checked: name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"filterName\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"itemName\",\n                  children: name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 61\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 33\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 41\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), titleChecked && filterList.length > 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"viewMore\",\n          onClick: onClickItemChecked,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"viewMoreTitle\",\n            children: \"View More\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ItemCheckedIcon, {\n            checked: itemChecked\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 63\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 12\n  }, this);\n};\n_s(SideBarItem, \"r00TzWA4MiGP2AV/BQ40M6RAis4=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = SideBarItem;\nvar _c;\n$RefreshReg$(_c, \"SideBarItem\");","map":{"version":3,"names":["TitleCheckedIcon","ItemCheckedIcon","CheckedBoxIcon","useState","useDispatch","useSelector","actions","SideBarItem","item","dispatch","itemChecked","updateItemChecked","titleChecked","updateTitleChecked","name","filterList","allFilters","state","productReducer","filters","onClickItemChecked","prevState","onClickTitleChecked","urlParams","params","page","pageNum","sortingId","onClickFilterChecked","filterActions","updateFilter","then","rs","productActions","fetchAllProductsWithFilter","map","swatchObject","index","swatch","alt","isChecked","length"],"sources":["/Users/phe/WebstormProjects/lululemon-latest-version/lulu-front/lululemon/src/components/mainPageComponents/SideBar/SideBarItem.js"],"sourcesContent":["import \"./SideBarItem.scss\"\nimport {TitleCheckedIcon,ItemCheckedIcon,CheckedBoxIcon} from \"./SideBarIcon\";\nimport {useState} from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport actions from \"../../../actions\";\nexport const SideBarItem = ({item}) => {\n    const dispatch = useDispatch()\n\n    const [itemChecked, updateItemChecked] = useState(false)\n    const [titleChecked, updateTitleChecked] = useState(true)\n    // Problem: simple true State will lead to change to all filters in one sideBarItem\n    // create a list of false which corresponds to the specific filter\n    const name = item[0]\n    const filterList = item[1]\n    const allFilters = useSelector(state => state?.productReducer?.filters)\n    const onClickItemChecked = () => {\n        updateItemChecked(prevState => !prevState)}\n\n    const onClickTitleChecked = () => {\n        updateTitleChecked(prevState => !prevState)\n    }\n    // Grab url params and use them to dispatch actions\n    const urlParams = useSelector(state => state?.productReducer?.params)\n    const page = urlParams.pageNum;\n    const sortingId = urlParams.sortingId;\n\n    // name is an entry here\n    const onClickFilterChecked = (name, page, sortingId) => {\n        actions.filterActions.updateFilter(dispatch)(name)\n            .then( rs => {\n                rs && actions.productActions.fetchAllProductsWithFilter(dispatch, page, sortingId)(allFilters)\n            })\n    }\n    return <div className=\"sideBarItem\">\n        <div className=\"itemExpand\">\n            <div className=\"itemHead\" onClick={onClickTitleChecked}>\n                <span className=\"filterTitle\">{name}</span>\n                <TitleCheckedIcon checked={titleChecked} />\n            </div>\n            {/*Special design for filter Color*/}\n            {name === \"Colour\"? titleChecked &&\n                <ul className=\"colorList\">\n                    {filterList.map((swatchObject,index) => {\n                return <li className=\"swatch-filter\" key={index}>\n                    <img src={swatchObject.swatch} alt={swatchObject.alt}/>\n                    <span className=\"swatchAlt\">\n                        {swatchObject.alt}\n                    </span>\n                </li>\n            })} </ul>:\n\n                // for other filters\n\n                <div className={`itemBody ${titleChecked? \"showTitle\": \"\"}`}>\n                <ul className=\"itemList\">\n                    {filterList.map(({name},index)=>\n                    index<= 4 && <li key={index}\n                                     onClick={()=>{ onClickFilterChecked(name, page, sortingId)}} >\n                        <CheckedBoxIcon  checked={name} />\n                        <div className=\"filterName\">\n                            <span>{name}</span>\n                        </div>\n                    </li>\n                    )}\n                </ul>\n\n\n                    <ul className= {`itemList_expanded ${itemChecked? \"show\": \"\"}`}>\n                    {filterList.map(({name, isChecked},index)=>\n                            index> 4 && <li key={index} onClick={() => onClickFilterChecked(name, page, sortingId)}>\n                            <CheckedBoxIcon checked={name} />\n                                <div className=\"filterName\"><span className=\"itemName\">{name}</span></div>\n                            </li>)}\n                    </ul>\n                    {titleChecked && filterList.length > 5 && <div className=\"viewMore\" onClick={onClickItemChecked}>\n                        <span className=\"viewMoreTitle\">View More</span>\n                        <ItemCheckedIcon checked={itemChecked}/>\n                    </div>}\n\n            </div>\n\n            }\n\n\n\n\n\n\n            </div>\n\n\n\n    </div>\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}