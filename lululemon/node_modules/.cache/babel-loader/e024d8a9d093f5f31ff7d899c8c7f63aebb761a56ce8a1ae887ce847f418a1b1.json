{"ast":null,"code":"import { actionType, FETCH_ALL_URL, KEYS_URL } from \"../helpers/Helper\";\nimport axios from \"axios\";\n\n////////////////////////////////\n// This is the Redux Thunk action creator\n//    - middleware allows action creator to return a function\n//    - which can then perform asynchronous actions and dispatch actions to reducers\n////////////////////////////////\n\n//[async dispatch] is provided by redux thunk middleware\nconst fetchOneProduct = _ref => {\n  let {\n    id\n  } = _ref;\n  return async dispatch => {\n    try {\n      var _response$data;\n      const response = await axios.get(`http://api-lulu.hibitbyte.com/product/${id}?${KEYS_URL}`);\n      const data = response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.rs;\n      // console.log('[Fetch one product details --- data]', data)\n      dispatch({\n        type: actionType.FETCH_ONE_PRODUCT,\n        payload: data\n      });\n    } catch (e) {\n      console.log('[fetch one product error]', e);\n    }\n  };\n};\n//[async dispatch] is provided by redux thunk middleware\n// const fetchAllProducts = () => async dispatch => {\n//     // console.log('[Fetch one product action creator]');\n//     try {\n//         const response = await axios.get(FETCH_ALL_URL)\n//         const data = response?.data?.rs;\n//         // console.log('[Fetch All products details]', data)\n//         dispatch({\n//             type: actionType.FETCH_ALL_PRODUCTS,\n//             payload: data\n//         })\n//     } catch (e) {\n//         console.log('[fetch All product error]',e)\n//     }\n// }\n\n// fetch with page and sorting\nconst fetchProductsPageSorting = (page, sorting) => async dispatch => {\n  try {\n    var _response$data2;\n    // console.log(`[Action] sortingId=${sorting}&page=${page}`)\n    const response = await axios.post(`http://api-lulu.hibitbyte.com/product/allProducts?sortingId=${sorting}&page=${page}&${KEYS_URL}`);\n    const data = response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.rs;\n    // console.log('[Action] data:',data)\n    dispatch({\n      type: actionType.FETCH_PRODUCTS_PAGE_SORTING,\n      payload: data\n    });\n  } catch (e) {\n    console.log('[fetch product with page & sorting error]', e);\n  }\n};\n//todo:\nconst fetchAllProductsWithFilter = (dispatch, page, sorting) => async filters => {\n  // console.log('[Fetch one product action creator]');\n  // console.log('Fetch all products with filter', page, sorting)\n  try {\n    var _response$data3;\n    const response = await axios.post(`http://api-lulu.hibitbyte.com/product/allProducts?sortingId=${sorting}&page=${page}&${KEYS_URL}`, filters);\n    const data = response === null || response === void 0 ? void 0 : (_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.rs;\n    // console.log('[Fetch All products details]', data)\n    dispatch({\n      type: actionType.FETCH_ALL_PRODUCTS_WITH_FILTER,\n      payload: data\n    });\n  } catch (e) {\n    console.log('[fetch All product error]', e);\n  }\n};\nexport default {\n  fetchOneProduct,\n  // fetchAllProducts,\n  fetchAllProductsWithFilter,\n  fetchProductsPageSorting\n};","map":{"version":3,"names":["actionType","FETCH_ALL_URL","KEYS_URL","axios","fetchOneProduct","id","dispatch","response","get","data","rs","type","FETCH_ONE_PRODUCT","payload","e","console","log","fetchProductsPageSorting","page","sorting","post","FETCH_PRODUCTS_PAGE_SORTING","fetchAllProductsWithFilter","filters","FETCH_ALL_PRODUCTS_WITH_FILTER"],"sources":["/Users/phe/WebstormProjects/lululemon-latest-version/lulu-front/lululemon/src/actions/productActions.js"],"sourcesContent":["import {actionType, FETCH_ALL_URL, KEYS_URL} from \"../helpers/Helper\";\nimport axios from \"axios\";\n\n////////////////////////////////\n// This is the Redux Thunk action creator\n//    - middleware allows action creator to return a function\n//    - which can then perform asynchronous actions and dispatch actions to reducers\n////////////////////////////////\n\n//[async dispatch] is provided by redux thunk middleware\nconst fetchOneProduct = ({id}) => async dispatch => {\n    try {\n        const response = await axios.get(`http://api-lulu.hibitbyte.com/product/${id}?${KEYS_URL}`)\n        const data = response?.data?.rs;\n        // console.log('[Fetch one product details --- data]', data)\n        dispatch({\n            type: actionType.FETCH_ONE_PRODUCT,\n            payload: data\n        })\n    } catch (e) {\n        console.log('[fetch one product error]',e)\n    }\n}\n//[async dispatch] is provided by redux thunk middleware\n// const fetchAllProducts = () => async dispatch => {\n//     // console.log('[Fetch one product action creator]');\n//     try {\n//         const response = await axios.get(FETCH_ALL_URL)\n//         const data = response?.data?.rs;\n//         // console.log('[Fetch All products details]', data)\n//         dispatch({\n//             type: actionType.FETCH_ALL_PRODUCTS,\n//             payload: data\n//         })\n//     } catch (e) {\n//         console.log('[fetch All product error]',e)\n//     }\n// }\n\n// fetch with page and sorting\nconst fetchProductsPageSorting = (page, sorting) => async dispatch => {\n    try {\n        // console.log(`[Action] sortingId=${sorting}&page=${page}`)\n        const response = await axios.post(`http://api-lulu.hibitbyte.com/product/allProducts?sortingId=${sorting}&page=${page}&${KEYS_URL}`)\n        const data = response?.data?.rs;\n        // console.log('[Action] data:',data)\n        dispatch({\n            type: actionType.FETCH_PRODUCTS_PAGE_SORTING,\n            payload: data\n        })\n    } catch (e) {\n        console.log('[fetch product with page & sorting error]',e)\n    }\n}\n//todo:\nconst fetchAllProductsWithFilter = (dispatch, page, sorting) => async (filters) => {\n    // console.log('[Fetch one product action creator]');\n    // console.log('Fetch all products with filter', page, sorting)\n    try {\n        const response = await axios.post(`http://api-lulu.hibitbyte.com/product/allProducts?sortingId=${sorting}&page=${page}&${KEYS_URL}`,filters)\n        const data = response?.data?.rs;\n        // console.log('[Fetch All products details]', data)\n        dispatch({\n            type: actionType.FETCH_ALL_PRODUCTS_WITH_FILTER,\n            payload: data\n        })\n    } catch (e) {\n        console.log('[fetch All product error]',e)\n    }\n}\n\n\n\nexport default {\n    fetchOneProduct,\n    // fetchAllProducts,\n    fetchAllProductsWithFilter,\n    fetchProductsPageSorting\n}"],"mappings":"AAAA,SAAQA,UAAU,EAAEC,aAAa,EAAEC,QAAQ,QAAO,mBAAmB;AACrE,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAMC,eAAe,GAAG;EAAA,IAAC;IAACC;EAAE,CAAC;EAAA,OAAK,MAAMC,QAAQ,IAAI;IAChD,IAAI;MAAA;MACA,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAE,yCAAwCH,EAAG,IAAGH,QAAS,EAAC,CAAC;MAC3F,MAAMO,IAAI,GAAGF,QAAQ,aAARA,QAAQ,yCAARA,QAAQ,CAAEE,IAAI,mDAAd,eAAgBC,EAAE;MAC/B;MACAJ,QAAQ,CAAC;QACLK,IAAI,EAAEX,UAAU,CAACY,iBAAiB;QAClCC,OAAO,EAAEJ;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOK,CAAC,EAAE;MACRC,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAACF,CAAC,CAAC;IAC9C;EACJ,CAAC;AAAA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAMG,wBAAwB,GAAG,CAACC,IAAI,EAAEC,OAAO,KAAK,MAAMb,QAAQ,IAAI;EAClE,IAAI;IAAA;IACA;IACA,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACiB,IAAI,CAAE,+DAA8DD,OAAQ,SAAQD,IAAK,IAAGhB,QAAS,EAAC,CAAC;IACpI,MAAMO,IAAI,GAAGF,QAAQ,aAARA,QAAQ,0CAARA,QAAQ,CAAEE,IAAI,oDAAd,gBAAgBC,EAAE;IAC/B;IACAJ,QAAQ,CAAC;MACLK,IAAI,EAAEX,UAAU,CAACqB,2BAA2B;MAC5CR,OAAO,EAAEJ;IACb,CAAC,CAAC;EACN,CAAC,CAAC,OAAOK,CAAC,EAAE;IACRC,OAAO,CAACC,GAAG,CAAC,2CAA2C,EAACF,CAAC,CAAC;EAC9D;AACJ,CAAC;AACD;AACA,MAAMQ,0BAA0B,GAAG,CAAChB,QAAQ,EAAEY,IAAI,EAAEC,OAAO,KAAK,MAAOI,OAAO,IAAK;EAC/E;EACA;EACA,IAAI;IAAA;IACA,MAAMhB,QAAQ,GAAG,MAAMJ,KAAK,CAACiB,IAAI,CAAE,+DAA8DD,OAAQ,SAAQD,IAAK,IAAGhB,QAAS,EAAC,EAACqB,OAAO,CAAC;IAC5I,MAAMd,IAAI,GAAGF,QAAQ,aAARA,QAAQ,0CAARA,QAAQ,CAAEE,IAAI,oDAAd,gBAAgBC,EAAE;IAC/B;IACAJ,QAAQ,CAAC;MACLK,IAAI,EAAEX,UAAU,CAACwB,8BAA8B;MAC/CX,OAAO,EAAEJ;IACb,CAAC,CAAC;EACN,CAAC,CAAC,OAAOK,CAAC,EAAE;IACRC,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAACF,CAAC,CAAC;EAC9C;AACJ,CAAC;AAID,eAAe;EACXV,eAAe;EACf;EACAkB,0BAA0B;EAC1BL;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}