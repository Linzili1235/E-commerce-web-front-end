{"ast":null,"code":"var _jsxFileName = \"/Users/phe/WebstormProjects/lululemon-latest-version/lulu-front/lululemon/src/components/mainPageComponents/Product/SortingTabs.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport actions from \"../../../actions\";\nimport { useNavigate } from \"react-router-dom\";\nimport './SortingTabs.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SortingTabs = () => {\n  _s();\n  var _products$pageParams, _products$products;\n  //////////////////////////////// SortTab ////////////////////////////////\n  // handle sort tab name\n  const [sortTab, setSortTab] = useState('Featured');\n  // handle toggle state\n  const [toggleName, setToggleName] = useState('hide');\n  const [isOpen, setIsOpen] = useState(false);\n  // toggle function to display/hide the sorting tab\n  const toggleFunc = evt => {\n    const dropDown = document.getElementsByClassName('dropdown');\n    if (!dropDown.contains(evt.target)) {\n      setIsOpen(false);\n    }\n    if (toggleName === 'hide') {\n      setIsOpen(true);\n    }\n    isOpen ? setToggleName('display') : setToggleName('hide');\n  };\n  ////////////////////////////////////////////////////////////////////////\n\n  // get data from the global store\n  const products = useSelector(state => {\n    var _state$productReducer;\n    return state === null || state === void 0 ? void 0 : (_state$productReducer = state.productReducer) === null || _state$productReducer === void 0 ? void 0 : _state$productReducer.pageProducts;\n  });\n  const urlParams = useSelector(state => {\n    var _state$productReducer2;\n    return state === null || state === void 0 ? void 0 : (_state$productReducer2 = state.productReducer) === null || _state$productReducer2 === void 0 ? void 0 : _state$productReducer2.params;\n  });\n  const page = urlParams.pageNum;\n  const sortingId = urlParams.sortingId;\n\n  ////////////////////////////////////////////////////////////////////////\n  // Fetch all products with page and sorting\n  const dispatch = useDispatch();\n  const [isLoading, setLoading] = useState(true);\n  useEffect(() => {\n    var _actions$productActio;\n    dispatch(actions === null || actions === void 0 ? void 0 : (_actions$productActio = actions.productActions) === null || _actions$productActio === void 0 ? void 0 : _actions$productActio.fetchProductsPageSorting(page, sortingId)).then(() => setLoading(false));\n  }, [page, sortingId]);\n  const navigate = useNavigate();\n  // handle sorting changes, change sortingId\n  const handleSortChange = sortingId => {\n    var _actions$filterAction;\n    actions === null || actions === void 0 ? void 0 : (_actions$filterAction = actions.filterActions) === null || _actions$filterAction === void 0 ? void 0 : _actions$filterAction.changeSortId(dispatch)(sortingId).then(() => setLoading(false));\n    navigate(`/mainPage/${sortingId}/1`);\n  };\n  return isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 24\n  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sortingTabs\",\n      children: [!!products && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"options\",\n        children: `All Items (${!!(products !== null && products !== void 0 && products.pageParams) ? products === null || products === void 0 ? void 0 : (_products$pageParams = products.pageParams) === null || _products$pageParams === void 0 ? void 0 : _products$pageParams.totalProducts : (_products$products = products.products) === null || _products$products === void 0 ? void 0 : _products$products.length})`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"options\",\n        children: \"Available Near You\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown\",\n        onClick: toggleFunc,\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"sort-by\",\n          children: [\"Sort by:  \", sortTab]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: toggleName,\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              id: \"1\",\n              \"data-id\": \"1\",\n              onClick: () => {\n                setSortTab('Featured');\n                handleSortChange('1');\n              },\n              children: \" Featured \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              id: \"2\",\n              \"data-id\": \"2\",\n              onClick: () => {\n                setSortTab('New Arrivals ');\n                handleSortChange('2');\n              },\n              children: \" New Arrivals \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              id: \"3\",\n              \"data-id\": \"3\",\n              onClick: () => {\n                setSortTab('Top rated');\n                handleSortChange('3');\n              },\n              children: \" Top rated \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(SortingTabs, \"b4TqQo7OBhHoTQoLY8Y16zsPElo=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useNavigate];\n});\n_c = SortingTabs;\nexport default SortingTabs;\nvar _c;\n$RefreshReg$(_c, \"SortingTabs\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","actions","useNavigate","SortingTabs","sortTab","setSortTab","toggleName","setToggleName","isOpen","setIsOpen","toggleFunc","evt","dropDown","document","getElementsByClassName","contains","target","products","state","productReducer","pageProducts","urlParams","params","page","pageNum","sortingId","dispatch","isLoading","setLoading","productActions","fetchProductsPageSorting","then","navigate","handleSortChange","filterActions","changeSortId","pageParams","totalProducts","length"],"sources":["/Users/phe/WebstormProjects/lululemon-latest-version/lulu-front/lululemon/src/components/mainPageComponents/Product/SortingTabs.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport actions from \"../../../actions\";\nimport { useNavigate } from \"react-router-dom\";\nimport './SortingTabs.scss'\n\nconst SortingTabs = () => {\n    //////////////////////////////// SortTab ////////////////////////////////\n    // handle sort tab name\n    const [sortTab, setSortTab]  = useState('Featured')\n    // handle toggle state\n    const [toggleName, setToggleName] = useState('hide')\n    const [isOpen, setIsOpen] = useState(false)\n    // toggle function to display/hide the sorting tab\n    const toggleFunc = (evt) => {\n        const dropDown = document.getElementsByClassName('dropdown')\n        if (!dropDown.contains(evt.target)) {\n            setIsOpen(false)\n        }\n        if (toggleName === 'hide'){\n            setIsOpen(true)\n        }\n        isOpen ? setToggleName('display'): setToggleName('hide')\n    }\n    ////////////////////////////////////////////////////////////////////////\n\n    // get data from the global store\n    const products = useSelector(state => state?.productReducer?.pageProducts)\n    const urlParams = useSelector(state => state?.productReducer?.params)\n    const page = urlParams.pageNum;\n    const sortingId = urlParams.sortingId;\n\n    ////////////////////////////////////////////////////////////////////////\n    // Fetch all products with page and sorting\n    const dispatch = useDispatch();\n    const [isLoading, setLoading] = useState(true)\n\n\n    useEffect( () => {\n        dispatch(actions?.productActions?.fetchProductsPageSorting(page, sortingId))\n            .then(()=> setLoading( false))\n    },[page, sortingId]);\n\n    const navigate = useNavigate();\n    // handle sorting changes, change sortingId\n    const handleSortChange = (sortingId) => {\n        actions?.filterActions?.changeSortId(dispatch)(sortingId)\n            .then(()=> setLoading( false))\n\n        navigate(`/mainPage/${sortingId}/1`);\n\n    }\n\n\n    return isLoading ? <div>Loading...</div> : (\n        <>\n            <div className=\"sortingTabs\">\n                {\n                    !!products &&\n                    <div className=\"options\">\n                        {`All Items (${!!products?.pageParams ? products?.pageParams?.totalProducts : products.products?.length})`}\n                    </div>\n                }\n                <div className=\"options\">Available Near You</div>\n                <div className='dropdown' onClick={toggleFunc}>\n                    <a className='sort-by'>Sort by:  {sortTab}</a>\n                    <div className={toggleName}>\n                        <ul>\n                            <li id='1'\n                                data-id='1'\n                                onClick={()=> {\n                                    setSortTab('Featured')\n                                    handleSortChange('1')\n                                }}> Featured </li>\n                            <li id='2'\n                                data-id='2'\n                                onClick={()=> {\n                                    setSortTab('New Arrivals ')\n                                    handleSortChange('2')\n                                }}> New Arrivals </li>\n                            <li id='3'\n                                data-id='3'\n                                onClick={()=> {\n                                    setSortTab('Top rated')\n                                    handleSortChange('3')\n                                }}> Top rated </li>\n                        </ul>\n                    </div>\n                </div>\n                <hr/>\n            </div>\n        </>\n    );\n};\n\nexport default SortingTabs;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}