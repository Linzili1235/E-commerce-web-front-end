{"ast":null,"code":"var _jsxFileName = \"/Users/phe/WebstormProjects/lululemon-latest-version/lulu-front/lululemon/src/components/mainPageComponents/Product/MainCarousel.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const MainCarousel = _ref => {\n  _s();\n  var _img$mainCarousel;\n  let {\n    img,\n    productId\n  } = _ref;\n  const navigate = useNavigate();\n\n  // console.log('[MainCarousel] img', img)\n\n  // handling missing or invalid props\n  // if (!img) return null;\n  // however, this will let useState be called conditionally, so change useState condition\n\n  // mouse enter and leave\n  // false state means mouse is not hovering\n  const mouseEnterIMG = img ? img === null || img === void 0 ? void 0 : img.whyWeMadeThis[0] : '';\n  const mouseLeaveIMG = img ? img === null || img === void 0 ? void 0 : img.whyWeMadeThis[1] : '';\n  const [currentImg, setCurrentImg] = useState(mouseLeaveIMG);\n  // The issue is with the MainCarousel component.\n  // The img prop is not being updated properly when the selectedSwatch changes in the ProductTile component.\n  // To fix this issue, add a useEffect hook in the MainCarousel component to re-render it whenever the img prop changes:\n  // Whenever the value of currentImage changes, the value of the src attribute changes, causing the displayed image to change as well.\n  // Cannot use currentImg as a dependency\n  // currentImg is a state variable that changes over time, causing the hook to re-render continuously, leading to an infinite loop.\n  //\n  // When I hover on a different swatch, the {img} is updated, and setCurrentImage will update too\n  useEffect(() => setCurrentImg(mouseLeaveIMG), [img]);\n  const goToProduct = id => {\n    navigate(`/singleProduct/${id}`);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"img_container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"currentIMG\",\n        src: currentImg,\n        alt: img === null || img === void 0 ? void 0 : (_img$mainCarousel = img.mainCarousel) === null || _img$mainCarousel === void 0 ? void 0 : _img$mainCarousel.alt,\n        onMouseEnter: () => setCurrentImg(mouseEnterIMG),\n        onMouseLeave: () => setCurrentImg(mouseLeaveIMG),\n        onClick: () => goToProduct(productId)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n_s(MainCarousel, \"FvjFPAZr2DW0eZw470/HBRFKuUg=\", false, function () {\n  return [useNavigate];\n});\n_c = MainCarousel;\nvar _c;\n$RefreshReg$(_c, \"MainCarousel\");","map":{"version":3,"names":["useEffect","useState","useNavigate","MainCarousel","img","productId","navigate","mouseEnterIMG","whyWeMadeThis","mouseLeaveIMG","currentImg","setCurrentImg","goToProduct","id","mainCarousel","alt"],"sources":["/Users/phe/WebstormProjects/lululemon-latest-version/lulu-front/lululemon/src/components/mainPageComponents/Product/MainCarousel.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\nimport {useNavigate} from \"react-router-dom\";\n\nexport const MainCarousel =({img,productId})=> {\n    const navigate = useNavigate();\n\n    // console.log('[MainCarousel] img', img)\n\n    // handling missing or invalid props\n    // if (!img) return null;\n    // however, this will let useState be called conditionally, so change useState condition\n\n    // mouse enter and leave\n    // false state means mouse is not hovering\n    const mouseEnterIMG = img? img?.whyWeMadeThis[0] : ''\n    const mouseLeaveIMG = img? img?.whyWeMadeThis[1] : ''\n    const [currentImg, setCurrentImg] = useState(mouseLeaveIMG)\n    // The issue is with the MainCarousel component.\n    // The img prop is not being updated properly when the selectedSwatch changes in the ProductTile component.\n    // To fix this issue, add a useEffect hook in the MainCarousel component to re-render it whenever the img prop changes:\n    // Whenever the value of currentImage changes, the value of the src attribute changes, causing the displayed image to change as well.\n    // Cannot use currentImg as a dependency\n    // currentImg is a state variable that changes over time, causing the hook to re-render continuously, leading to an infinite loop.\n    //\n    // When I hover on a different swatch, the {img} is updated, and setCurrentImage will update too\n    useEffect(()=>setCurrentImg(mouseLeaveIMG),[img])\n    const goToProduct = (id) => {\n        navigate(`/singleProduct/${id}`)\n    }\n    return <>\n    <div className=\"img_container\">\n        {\n            <img className=\"currentIMG\" src={currentImg}\n                 alt={img?.mainCarousel?.alt}\n                 onMouseEnter={() => setCurrentImg(mouseEnterIMG)}\n                 onMouseLeave={() => setCurrentImg(mouseLeaveIMG)}\n                 onClick={() => goToProduct(productId)}\n                 />\n        }\n\n    </div></>\n}"],"mappings":";;AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,SAAQC,WAAW,QAAO,kBAAkB;AAAC;AAAA;AAE7C,OAAO,MAAMC,YAAY,GAAE,QAAoB;EAAA;EAAA;EAAA,IAAnB;IAACC,GAAG;IAACC;EAAS,CAAC;EACvC,MAAMC,QAAQ,GAAGJ,WAAW,EAAE;;EAE9B;;EAEA;EACA;EACA;;EAEA;EACA;EACA,MAAMK,aAAa,GAAGH,GAAG,GAAEA,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEI,aAAa,CAAC,CAAC,CAAC,GAAG,EAAE;EACrD,MAAMC,aAAa,GAAGL,GAAG,GAAEA,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEI,aAAa,CAAC,CAAC,CAAC,GAAG,EAAE;EACrD,MAAM,CAACE,UAAU,EAAEC,aAAa,CAAC,GAAGV,QAAQ,CAACQ,aAAa,CAAC;EAC3D;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAT,SAAS,CAAC,MAAIW,aAAa,CAACF,aAAa,CAAC,EAAC,CAACL,GAAG,CAAC,CAAC;EACjD,MAAMQ,WAAW,GAAIC,EAAE,IAAK;IACxBP,QAAQ,CAAE,kBAAiBO,EAAG,EAAC,CAAC;EACpC,CAAC;EACD,oBAAO;IAAA,uBACP;MAAK,SAAS,EAAC,eAAe;MAAA,uBAEtB;QAAK,SAAS,EAAC,YAAY;QAAC,GAAG,EAAEH,UAAW;QACvC,GAAG,EAAEN,GAAG,aAAHA,GAAG,4CAAHA,GAAG,CAAEU,YAAY,sDAAjB,kBAAmBC,GAAI;QAC5B,YAAY,EAAE,MAAMJ,aAAa,CAACJ,aAAa,CAAE;QACjD,YAAY,EAAE,MAAMI,aAAa,CAACF,aAAa,CAAE;QACjD,OAAO,EAAE,MAAMG,WAAW,CAACP,SAAS;MAAE;QAAA;QAAA;QAAA;MAAA;IACpC;MAAA;MAAA;MAAA;IAAA;EAGT,iBAAG;AACb,CAAC;AAAA,GAtCYF,YAAY;EAAA,QACJD,WAAW;AAAA;AAAA,KADnBC,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}